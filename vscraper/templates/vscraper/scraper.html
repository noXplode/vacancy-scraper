{% extends "base.html" %}
{% block title %}
<title> Vacancies Scraper </title>
<meta name="description" content="Test Blog made for education purposes">
{% endblock %}

{% block content %}
<div class="container mt-1 py-2" >
    <form action="" method="get">
        <div class="row mx-5">
            <div class="col-8 text-center">
                <div class="active-purple-3">
                    {{ form.non_field_errors }}
                    {{ form.search_string.errors }}
                    {{ form.search_string }}
                </div>
                <button class="btn btn-sm m-2" type="submit">Поиск</button>
            </div>
            <div class="col-4">
                {% for radio in form.q_choice %}
                <div class="form-check">
                    {{ radio.tag }}
                    <label class="form-check-label" for="{{ radio.id_for_label }}">{{ radio.choice_label }}</label>
                </div>
                {% endfor %}
            </div>
        </div>
    </form>
    <nav>
        <div class="nav nav-tabs" id="nav-tab" role="tablist">
          <a class="nav-item nav-link active" id="nav-rabotaua-tab" data-toggle="tab" href="#nav-rabotaua" role="tab" aria-controls="nav-rabotaua" aria-selected="true">Rabota.ua {% if resR %}   {{resR|length}}{% endif%}</a>
          <a class="nav-item nav-link" id="nav-workua-tab" data-toggle="tab" href="#nav-workua" role="tab" aria-controls="nav-workua" aria-selected="false">Work.ua {% if resW %}   {{resW|length}}{% endif%}</a>
          <a class="nav-item nav-link" id="nav-hhru-tab" data-toggle="tab" href="#nav-hhru" role="tab" aria-controls="nav-hhru" aria-selected="false">HH.ru {% if resH %}   {{resH|length}}{% endif%}</a>
          <a class="nav-item nav-link" id="nav-dou-tab" data-toggle="tab" href="#nav-dou" role="tab" aria-controls="nav-dou" aria-selected="false">Dou.ua {% if resD %}   {{resD|length}}{% endif%}</a>
        </div>
    </nav>
    <div class="tab-content" id="nav-tabContent">
        <div class="tab-pane fade show active" id="nav-rabotaua" role="tabpanel" aria-labelledby="nav-rabotaua-tab">
            <div class="row d-flex flex-column justify-content-xl-between flex-lg-row justify-content-center"> 
                <div class="col-auto">
                    <div class="row m-2 wow fadeIn">
                        <a class="text-body" href="{{ urlR }}" target="_blank">{{ urlR }}</a>
                    </div>
                    {% if resR %}
                    <p class="card-text m-1">rabota.ua - {{resR|length}} вакансий</p>
                    <div class="row row-cols-1 row-cols-md-2 wow fadeIn">
                        {% for vac in resR %}
                        <div class="col p-2">
                            <div class="card h-100 ">
                                <!--<div class="view overlay">
                                    <img class="card-img-top"  src="{{article.urlimage}}" alt="">
                                    <a href="{{ article.get_absolute_url }}" >
                                    <div class="mask rgba-white-slight"></div>
                                    </a>
                                </div>-->
                    
                                <div class="card-body">
                                    <h4 class="card-title mb-1"><a class="text-body" href="{{ vac.url }}" target="_blank">{{ vac.title }}</a></h4>
                                    <p class="card-text mb-1">От: <strong>{{vac.company}}</strong></p>
                                    <p class="card-text mb-1">{{vac.location}}</p>
                                    <p class="card-text mb-1">{{vac.salary}}</p>
                                    <p class="card-text mb-1">{{vac.shdescr}}</p>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                    <!--
                    <div class="pagination row row-cols-1 mt-3">
                            <nav aria-label="Page navigation ">
                                <ul class="pagination pagination-lg justify-content-center">
                                    {% if artiсles.has_previous %}
                                    <li class="page-item"><a class="page-link" href="?page={{ artiсles.previous_page_number }}">Previous</a></li>
                                    {% endif %}
        
                                    <li class="page-item"><a class="page-link">Page {{ artiсles.number }} of {{ artiсles.paginator.num_pages }}</a></li>
                                    
                                    {% if artiсles.has_next %}
                                    <li class="page-item"><a class="page-link" href="?page={{ artiсles.next_page_number }}">Next</a></li>
                                    {% endif %}
                                </ul>
                            </nav>
                    </div>-->
                    {% endif %}
                </div>
            </div>
        </div>
        <div class="tab-pane fade" id="nav-workua" role="tabpanel" aria-labelledby="nav-workua-tab">
            <div class="row d-flex flex-column justify-content-xl-between flex-lg-row justify-content-center"> 
                <div class="col-auto">
                    <div class="row m-2 wow fadeIn">
                        <a class="text-body" href="{{ urlW }}" target="_blank">{{ urlW }}</a>
                    </div> 
                    {% if resW %}
                    <p class="card-text m-1">work.ua - {{resW|length}} вакансий</p>
                    <div class="row row-cols-1 row-cols-md-2 wow fadeIn">
                        {% for vac in resW %}
                        <div class="col p-2">
                            <div class="card h-100 ">
                                <!--<div class="view overlay">
                                    <img class="card-img-top"  src="{{article.urlimage}}" alt="">
                                    <a href="{{ article.get_absolute_url }}" >
                                    <div class="mask rgba-white-slight"></div>
                                    </a>
                                </div>-->
                    
                                <div class="card-body">
                                    <h4 class="card-title mb-1"><a class="text-body" href="{{ vac.url }}" target="_blank">{{ vac.title }}</a></h4>
                                    <p class="card-text mb-1">От: <strong>{{vac.company}}</strong></p>
                                    <p class="card-text mb-1">{{vac.location}}</p>
                                    <p class="card-text mb-1">{{vac.salary}}</p>
                                    <p class="card-text mb-1">{{vac.shdescr}}</p>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                    <!--
                    <div class="pagination row row-cols-1 mt-3">
                            <nav aria-label="Page navigation ">
                                <ul class="pagination pagination-lg justify-content-center">
                                    {% if artiсles.has_previous %}
                                    <li class="page-item"><a class="page-link" href="?page={{ artiсles.previous_page_number }}">Previous</a></li>
                                    {% endif %}
        
                                    <li class="page-item"><a class="page-link">Page {{ artiсles.number }} of {{ artiсles.paginator.num_pages }}</a></li>
                                    
                                    {% if artiсles.has_next %}
                                    <li class="page-item"><a class="page-link" href="?page={{ artiсles.next_page_number }}">Next</a></li>
                                    {% endif %}
                                </ul>
                            </nav>
                    </div>-->
                    {% endif %}
                </div>
            </div>
        </div>
        <div class="tab-pane fade" id="nav-hhru" role="tabpanel" aria-labelledby="nav-hhru-tab">
            <div class="row d-flex flex-column justify-content-xl-between flex-lg-row justify-content-center"> 
                <div class="col-auto"> 
                    <div class="row m-2 wow fadeIn">
                        <a class="text-body" href="{{ urlH }}" target="_blank">{{ urlH }}</a>
                    </div> 
                    {% if resH %}
                    <p class="card-text m-1">hh.ru - {{resH|length}} вакансий</p>
                    <div class="row row-cols-1 row-cols-md-2 wow fadeIn">
                        {% for vac in resH %}
                        <div class="col p-2">
                            <div class="card h-100 ">
                                <!--<div class="view overlay">
                                    <img class="card-img-top"  src="{{article.urlimage}}" alt="">
                                    <a href="{{ article.get_absolute_url }}" >
                                    <div class="mask rgba-white-slight"></div>
                                    </a>
                                </div>-->
                    
                                <div class="card-body">
                                    <h4 class="card-title mb-1"><a class="text-body" href="{{ vac.url }}" target="_blank">{{ vac.title }}</a></h4>
                                    <p class="card-text mb-1">От: <strong>{{vac.company}}</strong></p>
                                    <p class="card-text mb-1">{{vac.location}}</p>
                                    <p class="card-text mb-1">{{vac.salary}}</p>
                                    <p class="card-text mb-1">{{vac.shdescr}}</p>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                    <!--
                    <div class="pagination row row-cols-1 mt-3">
                            <nav aria-label="Page navigation ">
                                <ul class="pagination pagination-lg justify-content-center">
                                    {% if artiсles.has_previous %}
                                    <li class="page-item"><a class="page-link" href="?page={{ artiсles.previous_page_number }}">Previous</a></li>
                                    {% endif %}
        
                                    <li class="page-item"><a class="page-link">Page {{ artiсles.number }} of {{ artiсles.paginator.num_pages }}</a></li>
                                    
                                    {% if artiсles.has_next %}
                                    <li class="page-item"><a class="page-link" href="?page={{ artiсles.next_page_number }}">Next</a></li>
                                    {% endif %}
                                </ul>
                            </nav>
                    </div>-->
                    {% endif %}
                </div>
            </div>
          
        </div>
        <div class="tab-pane fade" id="nav-dou" role="tabpanel" aria-labelledby="nav-dou-tab">
            <div class="row d-flex flex-column justify-content-xl-between flex-lg-row justify-content-center"> 
                <div class="col-auto">
                    <div class="row m-2 wow fadeIn">
                        <a class="text-body" href="{{ urlD }}" target="_blank">{{ urlD }}</a>
                    </div> 
                    {% if resD %}
                    <p class="card-text m-1">Dou.ua - {{resD|length}} вакансий</p>
                    <div class="row row-cols-1 row-cols-md-2 wow fadeIn">
                        {% for vac in resD %}
                        <div class="col p-2">
                            <div class="card h-100 ">
                                <!--<div class="view overlay">
                                    <img class="card-img-top"  src="{{article.urlimage}}" alt="">
                                    <a href="{{ article.get_absolute_url }}" >
                                    <div class="mask rgba-white-slight"></div>
                                    </a>
                                </div>-->
                    
                                <div class="card-body">
                                    <h4 class="card-title mb-1"><a class="text-body" href="{{ vac.url }}" target="_blank">{{ vac.title }}</a></h4>
                                    <p class="card-text mb-1">От: <strong>{{vac.company}}</strong></p>
                                    <p class="card-text mb-1">{{vac.location}}</p>
                                    <p class="card-text mb-1">{{vac.salary}}</p>
                                    <p class="card-text mb-1">{{vac.shdescr}}</p>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                    <!--
                    <div class="pagination row row-cols-1 mt-3">
                            <nav aria-label="Page navigation ">
                                <ul class="pagination pagination-lg justify-content-center">
                                    {% if artiсles.has_previous %}
                                    <li class="page-item"><a class="page-link" href="?page={{ artiсles.previous_page_number }}">Previous</a></li>
                                    {% endif %}
        
                                    <li class="page-item"><a class="page-link">Page {{ artiсles.number }} of {{ artiсles.paginator.num_pages }}</a></li>
                                    
                                    {% if artiсles.has_next %}
                                    <li class="page-item"><a class="page-link" href="?page={{ artiсles.next_page_number }}">Next</a></li>
                                    {% endif %}
                                </ul>
                            </nav>
                    </div>-->
                    {% endif %}
                </div>
            </div>
        </div>
    </div>





    

        

    </div>
</div>
{% endblock %}